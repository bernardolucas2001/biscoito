/* Lógico_1 ProjetoBiscoito: */

CREATE TABLE CLIENTE (
    Codigo INT PRIMARY KEY,
    Nome VARCHAR,
    RG INT,
    CPF INT,
    Telefone INT
);

CREATE TABLE PEDIDO (
    Numero INT PRIMARY KEY,
    Situacao_do_pedido VARCHAR,
    Forma_de_pagamento VARCHAR,
    Data DATE,
    FK_CLIENTE_Codigo INT,
    FK_ENDERECO_Seq INT
);

CREATE TABLE PRODUTO (
    Codigo_do_produto INT PRIMARY KEY,
    Quantidade_disponivel INT,
    Preco_sugerido_de_venda FLOAT,
    Categoria VARCHAR,
    Descricao VARCHAR
);

CREATE TABLE ENDERECO (
    Seq INT PRIMARY KEY,
    Bairro VARCHAR,
    Cidade VARCHAR,
    UF VARCHAR,
    Logradouro VARCHAR
);

CREATE TABLE PEDIDO_PRODUTO (
    FK_PRODUTO_Codigo_do_produto INT,
    FK_PEDIDO_Numero INT,
    Quantidade INT,
    Preco_unitario FLOAT
);

CREATE TABLE CLIENTE_ENDERECO (
    FK_CLIENTE_Codigo INT,
    FK_ENDERECO_Seq INT
);
 
ALTER TABLE PEDIDO ADD CONSTRAINT FK_PEDIDO_2
    FOREIGN KEY (FK_CLIENTE_Codigo)
    REFERENCES CLIENTE (Codigo)
    ON DELETE CASCADE;
 
ALTER TABLE PEDIDO ADD CONSTRAINT FK_PEDIDO_3
    FOREIGN KEY (FK_ENDERECO_Seq)
    REFERENCES ENDERECO (Seq)
    ON DELETE CASCADE;
 
ALTER TABLE PEDIDO_PRODUTO ADD CONSTRAINT FK_PEDIDO_PRODUTO_1
    FOREIGN KEY (FK_PRODUTO_Codigo_do_produto)
    REFERENCES PRODUTO (Codigo_do_produto)
    ON DELETE RESTRICT;
 
ALTER TABLE PEDIDO_PRODUTO ADD CONSTRAINT FK_PEDIDO_PRODUTO_2
    FOREIGN KEY (FK_PEDIDO_Numero)
    REFERENCES PEDIDO (Numero)
    ON DELETE SET NULL;
 
ALTER TABLE CLIENTE_ENDERECO ADD CONSTRAINT FK_CLIENTE_ENDERECO_1
    FOREIGN KEY (FK_CLIENTE_Codigo)
    REFERENCES CLIENTE (Codigo)
    ON DELETE RESTRICT;
 
ALTER TABLE CLIENTE_ENDERECO ADD CONSTRAINT FK_CLIENTE_ENDERECO_2
    FOREIGN KEY (FK_ENDERECO_Seq)
    REFERENCES ENDERECO (Seq)
    ON DELETE RESTRICT;